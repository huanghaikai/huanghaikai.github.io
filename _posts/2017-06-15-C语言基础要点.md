---
title: "C语言基础要点回顾"
layout: post
date: 2017-06-15 18:50
tag:
- C/C++
category: Language
blog: true
description: c语言 基础 
---


### C语言基础要点回顾

#### 1. 变量声明和定义

- 声明： 向编译器保证变量以指定的类型和名称存在 仅使用`extern`关键字时才表示声明 如 `extern int a;`

- 定义： 在内存中开辟空间  如`int a;`

#### 2. 定义常量
- 使用 #define 预处理器,如 `#define WIDTH 4;`

- 使用 const 关键字， 如`const int WIDTH = 4;`

>区别：
>1. const 定义常量是有数据类型的，而 #define 宏定义常量却没有，一是 const 有类型；二是 const 可以有不同的作用域。
>2. const 常量有数据类型，而宏常量没有数据类型。编译器可以对 const 进行类型安全检查，而对后者只进行字符替换，没有类型安全检查，并且在字符替换中可能会产生意料不到的错误。
>3. 有些集成化的调试工具可以对 const 常量进行调试，但是不能对宏常量进行调试。

#### 3.存储类
- auto 是所有局部变量默认的储存类，且只能修饰局部变量
- register 存储类用于定义存储在寄存器中而不是RAM中的局部变量，仅是有可能储存，并非一定存储在寄存器中，不能进行&运算，因为没有内存位置
- static 存在于程序生命周期中，静态局部变量仅局部可以访问，静态全局变量作用单个源文件
- extern 用来在另一个文件中声明一个全局变量或函数。extern 修饰符通常用于当有两个或多个文件共享相同的全局变量或函数的时候


>全局变量: 定在一个源文件中，其他源文件也可以访问

>静态全局变量 : 仅能在定义的源文件中使用

>局部变量： 仅作用于行函数中，非全局

>静态局部变量： 仅作用与函数中，只初始化一次，生命周期同程序生命周期


#### 4.指针

指针：指针是一个指向内存地址的变量，是内存地址的直接值。

声明： type *var_name;  使用\*号来表示一个指针变量

赋值：
````c
int a = 1;
int *aPoint = &a;   //指针赋值
printf("指针指向的地址是%d",aPoint);    //输出地址
printf("指针指向的地址中存放的值是%d",*aPoint);  //输出指针指向的地址中存放的值，这里是a的值 即1

````

#### 5.结构体


指向结构的指针
````c
struct Books *struct_pointer; 

struct_pointer = &Book1; //指针赋值

struct_pointer->title;  //使用指向结构体的指针访问结构体成员，必须使用->运算符
````

#### 6.位域
把几个不同的对象用一个字节的二进制位域来表示。

````
struct 位域结构名 
{

    位域列表

};
````
例如
````c
struct bs{
    int a:8;
    int b:2;
    int c:6;
}data;
````


#### 7.共用体
union Data
{
   int i;
   float f;
   char  str[20];
} data;


#### 8.typedef 
typedef关键字用于为类型取一个新的名字
````c 
typedef unsigned char BYTE;  

BYTE  b1, b2;
````
注意：`typedef 和 #define的区别`

typedef 仅限于为类型定义符号名称
\#define 不仅可以为类型定义别名，也能为数值定义别名

typedef 是由编译器执行解释的，\#define 语句是由预编译器进行处理的。


#### 9.输入输出

- scanf() &  printf()
标准格式化输入输出


| 格式化符号 | 含义 | 备注 |
| :-: | :-: | :-: |
|%d|十进制有符号整数 |%2d 输出两位宽度，不够，则向右对齐，%ld表示long类型，%04d 不够4位，前面补0|
|%u|十进制无符号整数 |
|%f|浮点数|%2.2f 表示输出两位宽度，2位小数点
|%s|字符串|%4.7s 表示输出大于等于4位且小于等于7位的字符串，不够补空格，%-4.7s 表示左对齐
|%c|单个字符|
|%p|指针的值|
|%e|指数形式的浮点数
|%x|无符号以十六进制表示的整数
|%0|无符号以八进制表示的整数
|%g|自动选择合适的表示法 


- getchar() & putchar()

函数从屏幕读取下一个可用的字符，并把它返回为一个整数。一次只会读取或输出一个字符


- gets() & puts() 

 从stdin读取一行到字符串所指向的缓冲区，直到一个终止符或EOF。

函数把字符串s和一个尾随的换行符写入到stdout


#### 10.头文件
- #include <file> 引用系统头文件

- #include "file" 引用用户头文件


#### 11.内存管理
````c
void *calloc(int num, int size); //在内存分配num个长度为size的连续空间，并将每一个字节都初始化为0

void free(void *address);  //释放address所指向的内存块

void *malloc(int num);  //在堆区分配一块指定大小的内存空间，用来存放数据。这块内存空间在函数执行完成后不会被初始化

void *realloc(void *address, int newsize); //该函数重新分配内存，把内存扩展到newsize。

````